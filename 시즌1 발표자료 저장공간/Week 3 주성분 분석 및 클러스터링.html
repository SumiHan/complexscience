<html>
<head>
  <title>Evernote Export</title>
  <basefont face="나눔명조" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/276665; Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔명조;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="18992"/>

<div>
<span bgcolor="#FFFFFF"><div><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>Week 3: 주성분 분석 및 클러스터링 - Lecture 1</h1><b>원본 URL:</b> <a href="https://www.youtube.com/embed/2nms5TWpRoA?rel=0&amp;controls=1&amp;showinfo=0">https://www.youtube.com/embed/2nms5TWpRoA?rel=0&amp;controls=1&amp;showinfo=0</a><br/><b>작성자:</b> 신진환<br/></td></tr></table></div><div><span style="color: rgb(187, 187, 187); font-family: Roboto, Arial, Helvetica, sans-serif; font-size: 11px; line-height: 11.4400005340576px; text-align: left; widows: 1; background-color: rgba(28, 28, 28, 0.796875);">https://youtu.be/2nms5TWpRoA</span></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>Week 3: 주성분 분석 및 클러스터링 - Principal Component Analysis</h1><b>원본 URL:</b> <a href="https://www.elice.io/#/course/3/3/27">https://www.elice.io/#/course/3/3/27</a><br/><b>작성자:</b> 신진환<br/></td></tr></table></div><div><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">Principal Component Analysis</h2><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">통계학에서 주성분 분석 (Principal Component Analysis) 는 고차원의 데이터를 상대적으로 저차원의 데이터로 환원시키는 알고리즘입니다. 예를 들어, 우리가 이번 과제에서 사용할 리그 오브 레전드 챔피언 데이터는 각각의 챔피언이 서로 연관되지 않은 174개의 attribute 를 가지고 있습니다. 그러므로, 이것은 174차원의 데이터가 됩니다. 이것을 바로 분석하는 것은 어렵습니다. 예를 들어, 챔피언들의 attribute 를 고려하여 그래프로 가시화하고 싶다고 할 때, 가장 쉬운 방법은 174개의 차원을 그대로 써서 174-차원 공간에 표시하는 것입니다. 하지만 이렇게 하면 간단하게 눈으로 알아보기 어렵기 때문에, 2D 평면에 projection (투사) 를 진행하게 됩니다. 이 투사를 챔피언들의 174 차원을 고려하여 가장 뚜렷한 차이를 내도록 투사할 수 있는 방법은 PCA 를 사용하는 것입니다. 이번 과제에서는 바로 이 문제를 풀어보도록 하겠습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">주성분 분석에서는 서로 연관 가능성이 있는 고차원 공간의 표본들을 서로 선형적으로 연관되지 않은 저차원의 표본으로 변환합니다. 주성분 분석은 데이터를 한 개의 축으로 투사했을 때 가장 분산 (variance) 이 높아지는 축을 첫 번째 주성분, 그 다음으로 분산이 높은 축을 두 번째 주성분, ... 이라고 합니다. 일반적으로, 첫 번째 주성분이 원 데이터의 특성을 가장 잘 설명하며, 두 번째 주성분은 첫 번째 주성분보다 같거나 작은 만큼 원 데이터의 특성을 설명합니다. 세 번째는 두 번째보다 같거나 작습니다. 그러므로, 주성분 분석을 통해 매우 높은 차원을 가진 데이터를 작은 차원으로 투사하면서도 데이터의 특성을 최대한 보존할 수 있습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">주성분 분석은 선형대수학에서는 특이값 분해 (Singular Vector Decomposition) 혹은 고유값 분해 (Eigenvalue Decomposition) 으로 응용됩니다. 이제 주성분 분석을 위해,<a href="http://scikit-learn.org/" style="box-sizing: border-box; color: rgb(100, 176, 217); text-decoration: none; cursor: pointer; background: 0px 0px;">scikit-learn</a> 라이브러리에 구현된 PCA 함수를 사용하겠습니다.</p><h3 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 16px !important; widows: 1; background-color: rgb(253, 253, 253);">sklearn.decomposition.PCA</h3><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">PCA를 사용하기 위하여 scikit-learn 에 구현된 함수를 호출합니다. 이 때, 단순히 몇 차원으로 줄일지에 대해서만 입력을 하면 됩니다. 이번 예제에서는 2차원 데이터를 1차원으로 줄이는 연습을 해 보겠습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">먼저 데이터를 입력받은 뒤</p><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">twodim_data = {'x': [1, 2, 3, 4, 5], 'y': [1, -1, 2, -2, 3]}
df = pd.DataFrame(twodim_data)
</code></pre><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">PCA 분석을 진행합니다.</p><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">pca = sklearn.decomposition.PCA(n_components = 1)
pca.fit(df)
pca_array = pca.transform(df)
</code></pre><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">(1, 1), (2, -1), (3, 2), (4, -2), (5, -3)</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">1</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">1</span><span style="box-sizing: border-box;">)</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">(</span><span style="box-sizing: border-box;">2</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">−</span><span style="box-sizing: border-box;">1</span><span style="box-sizing: border-box;">)</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">(</span><span style="box-sizing: border-box;">3</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">2</span><span style="box-sizing: border-box;">)</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">(</span><span style="box-sizing: border-box;">4</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">−</span><span style="box-sizing: border-box;">2</span><span style="box-sizing: border-box;">)</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">(</span><span style="box-sizing: border-box;">5</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; margin-left: 0.16667em;">−</span><span style="box-sizing: border-box;">3</span><span style="box-sizing: border-box;">)</span></span></span></span></span> 의 다섯 개의 2차원 좌표가 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca_array</code> 에 1차원 좌표로 변환되어 저장됨을 알 수 있습니다.</p><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">array([[-0.3047419 ],
       [-1.84485979],
       [ 1.31638021],
       [-2.10428084],
       [ 2.93750231]])
</code></pre><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">과제</h2><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이번 과제에서는 예제에서 보여주었던 2차원 데이터를 PCA를 이용하여 1차원으로 줄이는 실습을 진행하겠습니다. 더하여, PCA가 찾아낸 주성분을 그려 실제로 분산이 높도록 하는지를 확인해보도록 하겠습니다.</p><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);"><li style="box-sizing: border-box;">input 명령으로 2차원 점을 입력받아 데이터 프레임을 만듭니다. 데이터 프레임은 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">n</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic;">n</span></span></span></span></span> 개의 데이터 포인트를 입력받았을 경우 각각 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">x</code> 와 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">y</code> 두 개의 column 을 가진, 즉 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">n \times 2</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic;">n</span><span style="box-sizing: border-box; margin-left: 0.22222em;">×</span><span style="box-sizing: border-box; margin-left: 0.22222em;">2</span></span></span></span></span> 의 shape 을 가져야 합니다.</li><li style="box-sizing: border-box;">주성분 분석을 실시합니다. 주성분 분석은 1차원으로 진행합니다. 이미 구현되어 있는 함수를 사용합니다.</li><li style="box-sizing: border-box;">PCA 결과 및 각 점들에 대한 첫 번째 주성분을 리턴합니다. 위 예제의 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca</code> 및 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca_array</code> 와 같은 형식입니다.</li><li style="box-sizing: border-box;">데이터의 각 점들과 첫 번째 주성분을 그래프로 그립니다. 파란 점들은 입력받은 데이터 포인트들을, 선은 PCA 를 통해 찾아낸 최적의 축을, 그리고 빨간 점들은 입력받은 데이터 포인트들을 주성분에 투사한 점들을 의미합니다. 정말로 빨간 선에 파란 점들을 수직으로 투사했을 때 최고의 분산값을 가지게 되는지 직접 살펴보기 바랍니다!</li></ol><h3 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 16px !important; widows: 1; background-color: rgb(253, 253, 253);">입력</h3><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">첫 줄에는 데이터의 개수가 입력됩니다 (<code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">N</code>). 다음 줄부터 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">N</code>개의 숫자가 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">X</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic; margin-right: 0.07847em;">X</span></span></span></span></span>, <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">y</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic; margin-right: 0.03588em;">y</span></span></span></span></span> 로 나뉘어 입력됩니다. <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">X</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic; margin-right: 0.07847em;">X</span></span></span></span></span>와 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; position: absolute; clip: rect(1px 1px 1px 1px); padding: 0px; border: 0px; height: 1px; width: 1px; overflow: hidden;">y</span><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; font-family: KaTeX_Math; font-style: italic; margin-right: 0.03588em;">y</span></span></span></span></span>는 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">space</code>로 나뉘어져 입력됩니다.</p><h4 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 10.5px; margin-bottom: 10.5px; font-size: 19px; widows: 1; background-color: rgb(253, 253, 253);">테스트 입력 1</h4><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">10
2.5 2.4
0.5 0.7
2.2 2.9
1.9 2.2
3.1 3.0
2.3 2.7
2.0 1.6
1.0 1.1
1.5 1.6
1.1 0.9
</code></pre><h4 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 10.5px; margin-bottom: 10.5px; font-size: 19px; widows: 1; background-color: rgb(253, 253, 253);">테스트 입력 2</h4><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">10
-4.77 6.53
-3.30 5.29
-2.54 3.20
-1.74 3.34
-0.03 2.81
0.41 1.90
1.27 0.47
2.30 -0.29
3.17 -2.14
4.10 -3.96</code></pre><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">import sklearn.decomposition<br/>import numpy as np<br/>import pandas as pd<br/>import elice_utils<br/><br/>def main():<br/>    df = input_data()<br/><br/>    # 2<br/>    pca, pca_array = run_PCA(df, 1)<br/><br/>    # 4<br/>    print(elice_utils.draw_toy_example(df, pca, pca_array))<br/><br/>def input_data():<br/>    # 1<br/>    count = int(input())<br/>    X = []<br/>    Y = []<br/>    while count &gt;0:<br/>        text = input().strip().split(&quot; &quot;)<br/>        X.append(float(text[0]))<br/>        Y.append(float(text[1]))<br/>        count -= 1<br/>        <br/>    df = pd.DataFrame({'x': X, 'y': Y})<br/>    <br/>    return df<br/><br/>def run_PCA(dataframe, num_components):<br/>    # <br/>    pca = sklearn.decomposition.PCA(n_components = 1)<br/>    pca.fit(dataframe)<br/>    pca_array = pca.transform(dataframe)<br/><br/>    return pca, pca_array<br/><br/>if __name__ == '__main__':<br/>    main()</code></pre></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>Week 3: 주성분 분석 및 클러스터링 -  Applying PCA to Wine Dataset</h1><b>원본 URL:</b> <a href="https://www.elice.io/#/course/3/3/28">https://www.elice.io/#/course/3/3/28</a><br/><b>작성자:</b> 신진환<br/></td></tr></table></div><div><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">Applying PCA to Wine Dataset</h2><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이제 다양한 속성(feature, attribute)를 가지는 데이터에 대해서 분석해보겠습니다. 먼저, 데이터 별로 어떤 클래스에 속하는지 알고 있는 데이터를 이용하겠습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이번 과제에서 살펴볼 데이터는 와인 데이터입니다. 이 데이터는 Forina, M. et al. 에 의해 의해 만들어진 데이터로, 이탈리아 한 지방에서 생산된 와인의 화학 성분입니다. 세 가지 서로 다른 품종의 포도를 이용해 생산한 와인에 대해 13가지 특성이 어떻게 나타나는지 분석한 것입니다 (<a href="http://archive.ics.uci.edu/ml/datasets/Wine" style="box-sizing: border-box; color: rgb(100, 176, 217); text-decoration: none; cursor: pointer; background: 0px 0px;">출처: UCI Machine Learning Repository</a>).</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">다음 13가지 특성이 포도의 품종과 함께 저장되어 있습니다.</p><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);"><li style="box-sizing: border-box;">포도 품종 (Class)</li><li style="box-sizing: border-box;">Alcohol</li><li style="box-sizing: border-box;">Malic acid</li><li style="box-sizing: border-box;">Ash</li><li style="box-sizing: border-box;">Alcalinity of ash</li><li style="box-sizing: border-box;">Magnesium</li><li style="box-sizing: border-box;">Total phenols</li><li style="box-sizing: border-box;">Flavanoids</li><li style="box-sizing: border-box;">Nonflavanoid phenols</li><li style="box-sizing: border-box;">Proanthocyanins</li><li style="box-sizing: border-box;">Color intensity</li><li style="box-sizing: border-box;">Hue</li><li style="box-sizing: border-box;">OD280/OD315 of diluted wines</li><li style="box-sizing: border-box;">Proline</li></ol><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">한 데이터는 각 속성마다 값을 가지고 있습니다. 따라서 한 눈에 데이터들의 특성 및 분포를 살펴보기에는 어려움이 있습니다. 만약 그래프를 그린다고 해도, 13차원을 모두 사용하여 그래프를 그리기는 쉽지 않습니다. 이전 과제의 설명처럼 2차원에 투영 (projection) 하는 방법이 있지만 정보의 손실이 너무 많기 때문에, 각 데이터 포인터의 특색을 유지하면서 2차원으로 dimension 을 줄이기 위해서는 PCA 를 쓰는 것이 효과적입니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이번 과제에서는 PCA를 이용하여 차원을 2차원으로 줄여 데이터의 특성을 살펴보도록 하겠습니다.</p><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">과제</h2><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);"><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0px 0px 10.5px;">디렉토리에 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">wine.csv</code> 파일이 주어집니다. 파일 안 하나의 줄마다 하나의 와인 데이터가 기록되어 있으며, 각 항목은 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">,</code>로 구분되어 있습니다. <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pd.read_csv</code> 를 이용해 손쉽게 데이터를 읽어들일 수 있습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px;">첫 번째 항목은 어떤 품종의 포도를 이용하였는지에 대한 정보, 즉 클래스로 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">1, 2, 3</code>의 형태로 되어 있습니다. 나머지 항목은 위의 13개 속성에 대한 값들이 적혀져 있습니다. 아래에 파일의 일부를 첨부하였습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px;">해당 파일을 읽어 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">feature_df</code>에는 각 데이터의 속성이 들어있는 행렬, <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">class_df</code>에는 각 데이터의 클래스가 들어있는 행렬을 만듭니다. <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">feature_df</code> 및<code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">class_df</code> 를 만들 때는 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">wine_df.pop('class')</code> 를 이용하면 쉽습니다. 전체 178개의 데이터가 있으니<code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">feature_df</code>는 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box;">1</span><span style="box-sizing: border-box;">7</span><span style="box-sizing: border-box;">8</span><span style="box-sizing: border-box; margin-left: 0.22222em;">×</span><span style="box-sizing: border-box; margin-left: 0.22222em;">1</span><span style="box-sizing: border-box;">3</span></span></span></span></span>, <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">class_df</code>는 <span style="box-sizing: border-box;"><span style="box-sizing: border-box; font-size: 1.21em; font-family: KaTeX_Main; line-height: 1.2; white-space: nowrap;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box; display: inline-block;"><span style="box-sizing: border-box;">1</span><span style="box-sizing: border-box;">7</span><span style="box-sizing: border-box;">8</span><span style="box-sizing: border-box; margin-left: 0.22222em;">×</span><span style="box-sizing: border-box; margin-left: 0.22222em;">1</span></span></span></span></span>의 모습을 가져야 합니다.</p></li><li style="box-sizing: border-box;">주성분 분석을 실시합니다. 주성분 분석은 2차원으로 진행합니다.</li><li style="box-sizing: border-box;">PCA 결과 및 각 점들에 대한 주성분들을 리턴합니다. 위 예제의 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca</code> 및 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca_array</code> 와 같은 형식입니다.</li><li style="box-sizing: border-box;">그래프를 통해 실제로 세 가지의 재배법이 얼마나 다른 차이를 나타내는지 확인해봅니다. 빨강, 초록, 파랑 순으로 품종 (Class) 1, 2, 3 을 의미합니다.</li></ol><h4 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 10.5px; margin-bottom: 10.5px; font-size: 19px; widows: 1; background-color: rgb(253, 253, 253);">wine.csv 의 일부</h4><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">class,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13
1,14.23,1.71,2.43,15.6,127,2.8,3.06,.28,2.29,5.64,1.04,3.92,1065
1,13.2,1.78,2.14,11.2,100,2.65,2.76,.26,1.28,4.38,1.05,3.4,1050
2,12,.92,2,19,86,2.42,2.26,.3,1.43,2.5,1.38,3.12,278
2,12.72,1.81,2.2,18.8,86,2.2,2.53,.26,1.77,3.9,1.16,3.14,714
3,12.82,3.37,2.3,19.5,88,1.48,.66,.4,.97,10.26,.72,1.75,685
3,13.58,2.58,2.69,24.5,105,1.55,.84,.39,1.54,8.66,.74,1.8,750</code></pre><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">import sklearn.decomposition<br/>import numpy as np<br/>import pandas as pd<br/>import elice_utils<br/><br/>def main():<br/>    # 1<br/>    wine_df = pd.read_csv('wine.csv')<br/><br/>    class_df = wine_df.pop('class')<br/>    feature_df = wine_df<br/>    <br/>    <br/>    # 2<br/>    pca, pca_array = run_PCA(feature_df, 2)<br/><br/>    # 4<br/>    print(elice_utils.wine_graph(pca_array, class_df))<br/><br/><br/>def run_PCA(dataframe, num_components):<br/>    # 2<br/>    pca = sklearn.decomposition.PCA(num_components)<br/>    pca.fit(dataframe)<br/>    pca_array = pca.transform(dataframe)<br/><br/>    # 3<br/>    return pca, pca_array<br/><br/>if __name__ == '__main__':<br/>    main()</code></pre></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>Week 3: 주성분 분석 및 클러스터링 - Lecture 2</h1><b>원본 URL:</b> <a href="https://www.youtube.com/embed/mvp8nRoM_gI?rel=0&amp;controls=1&amp;showinfo=0">https://www.youtube.com/embed/mvp8nRoM_gI?rel=0&amp;controls=1&amp;showinfo=0</a><br/><b>작성자:</b> 신진환<br/></td></tr></table></div><div><span style="color: rgb(187, 187, 187); font-family: Roboto, Arial, Helvetica, sans-serif; font-size: 11px; line-height: 11.4400005340576px; text-align: left; widows: 1; background-color: rgba(28, 28, 28, 0.796875);">https://youtu.be/mvp8nRoM_gI</span></div><br/><div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>Week 3: 주성분 분석 및 클러스터링 - PCA + League of Legends Champions</h1><b>원본 URL:</b> <a href="https://www.elice.io/#/course/3/3/30">https://www.elice.io/#/course/3/3/30</a><br/><b>작성자:</b> 신진환<br/></td></tr></table></div><div><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">PCA + League of Legends Champions</h2><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">어떻게 클래스를 가진 데이터가 2차원에서 표현되는지 확인하셨습니까? 이제 클래스 정보가 없이 값만 존재하는 데이터에 대해 살펴보도록 하겠습니다.</p><h3 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 16px !important; widows: 1; background-color: rgb(253, 253, 253);">sklearn.preprocessing.MinMaxScaler</h3><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">앞서 얘기드린 것처럼 주성분 분석은 가장 분산 (variance) 이 높아지는 차원을 우선적으로 찾아냅니다. 만약 특정한 차원이 다른 차원보다 절대적인 숫자가 크다면, 다른 차원보다 의미는 같거나 떨어지면서도 분산이 커진다는 이유로 주성분이 그 차원에 가깝게 적용될 요지가 있습니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">예를 들어, 전세계 증시의 증가 혹은 하락을 간단하게 분석하기 위해 주성분 분석을 적용한다고 합시다. 그리고 날짜별로 세계 모든 나라의 주식 가격이 각국의 통화로 들어있는 주식 데이터를 가지고 있다면, 한국 주식 데이터의 분산이 미국 주식 데이터의 분산보다 월등히 커지게 됩니다. (한국 원화가 미국 달러보다 1/1000 정도의 표면가치를 가지기 때문) 그러므로, 주성분 분석을 시행할 경우 미국 증시 데이터는 주성분에 포함되지 않을 확률이 굉장히 커지게 됩니다.</p><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이를 방지하기 위해 모든 차원에 대해 scaling 을 시행하는 것이 일반적입니다. Scaling 이란 그 차원의 데이터 포인트의 min값을 0으로, max값을 1로 고정하여 선형변환하는 것을 말합니다. 예를 들어, [0, 1, 2, 3, 4, 5]를 0..1 로 scaling 하면 [0, 0.2, 0.4, 0.6, 0.8, 1]이 됩니다. 이것은 Python 으로도 직접 구현할 수 있지만 다음 함수로 쉽게 사용할 수 있습니다.</p><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; widows: 1; background-color: rgb(245, 245, 245);"><code style="box-sizing: border-box; font-size: inherit; padding: 0px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: inherit; white-space: pre-wrap; background-color: transparent;">import sklearn.preprocessing

A = [0, 1, 2, 3, 4, 5, 4, 3, 2, 1]
scaler = sklearn.preprocessing.MinMaxScaler()
A_scaled = scaler.fit_transform(np.array(A).astype('float64'))
</code></pre><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">중간의 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">astype('float64')</code> 는 정수형의 A 를 실수형으로 바꾸라는 의미입니다.</p><h2 style="box-sizing: border-box; font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-weight: 300; line-height: 1.1; color: rgb(102, 102, 102); margin-top: 21px; margin-bottom: 10.5px; font-size: 18px !important; widows: 1; background-color: rgb(253, 253, 253);">과제</h2><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);">이번 과제에서는 리그 오브 레전드 (League of Legends) 게임의 챔피언들을 주성분 분석을 통해 분석하고 2D 평면에 투사하여 그래프를 그리는 실습을 진행하겠습니다. 리그 오브 레전드에는 사용자가 조종하는 캐릭터들이 있으며, 이것을 챔피언이라고 부릅니다. 챔피언들은 굉장히 다양한 능력치와 스킬들을 보유하고 있으며, 서로 비슷한 챔피언들, 이를테면 근접 공격, 원거리 공격, 혹은 마법 사용, 들이 있습니다. 이 과제에서 사용할 데이터는 Riot Games 의 <a href="https://developer.riotgames.com/" style="box-sizing: border-box; color: rgb(100, 176, 217); text-decoration: none; cursor: pointer; background: 0px 0px;">API</a> (Application Protocol Interface) 를 이용해 KAIST U&amp;I Lab의 <a href="mailto:jooyeon.kim@kaist.ac.kr" style="box-sizing: border-box; color: rgb(100, 176, 217); text-decoration: none; cursor: pointer; background: 0px 0px;">김주연</a> 석사과정 학생이 수집하였습니다.</p><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; color: rgb(102, 102, 102); font-family: &apos;Noto Sans CJK&apos;, &apos;Myriad Pro&apos;, Helvetica, sans-serif; font-size: 14px; line-height: 15.9999828338623px; widows: 1; background-color: rgb(253, 253, 253);"><li style="box-sizing: border-box;">디렉토리에 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">champs_df.pd</code> 파일이 주어집니다. Pandas의 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pd.read_pickle()</code> 함수를 이용해 파일을 읽어들여 데이터 프레임으로 저장할 수 있습니다.</li><li style="box-sizing: border-box;">run_PCA 함수 안에서, 챔피언들의 모든 차원에 대해 선형 scaling (0..1) 을 수행합니다.</li><li style="box-sizing: border-box;">선형 scaling이 끝난 데이터 프레임에 대해 주성분 분석을 실시합니다. 주성분 분석은 2차원으로 진행합니다.</li><li style="box-sizing: border-box;">각각의 챔피언에 대한 첫 번째 및 두 번째 주성분을 리스트로 리턴합니다. 위 예제의 <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">pca_array</code> 와 같은 형식입니다.</li><li style="box-sizing: border-box;">(Optional) <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">plot_champions</code> 를 실행하여 챔피언들 관의 관계를 2D 그래프로 확인합니다. 가까이 있는 챔피언들이 비슷한 능력치를 가진 챔피언입니다. 여기서 원의 크기는 각 챔피언의 난이도를, 색은 챔피언의 마법 수치를 의미합니다. 빨간색에 가까울수록 AP 챔프 (마법 데미지 사용 챔프), 파란색에 가까울수록 AD 챔프 (물리 데미지 사용 챔프) 를 나타냅니다.</li><li style="box-sizing: border-box;">(Optional) <code style="box-sizing: border-box; font-size: 12.6000003814697px; padding: 2px 4px; border-radius: 0px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244);">get_closest_champions</code> 를 실행하여, PCA 를 통해 찾아낸 챔피언들의 2-D 위치들을 기반으로 어떤 챔피언들끼리 서로 가까운 위치에 있는지 테스트해 봅니다.</li></ol><div style="widows: 1;"><pre style="box-sizing: border-box; overflow: auto; font-size: 14px; font-family: Menlo, Monaco, Consolas, &apos;Courier New&apos;, monospace; padding: 10px; margin-top: 0px; margin-bottom: 10.5px; line-height: 15.9999828338623px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; background-color: rgb(245, 245, 245);">
import sklearn.decomposition<br/>import sklearn.preprocessing<br/>import numpy as np<br/>import pandas as pd<br/>import elice_utils<br/>import scipy.spatial.distance<br/>import operator<br/><br/>def main():<br/>    # 1<br/>    champs_df = pd.read_pickle('champ_df.pd')<br/><br/>    champ_pca_array = run_PCA(champs_df, 2)<br/><br/>    # 5<br/>    print(elice_utils.plot_champions(champs_df, champ_pca_array))<br/>    print(get_closest_champions(champs_df, champ_pca_array, &quot;Ashe&quot;, 10))<br/><br/>def run_PCA(champs_df, num_components):<br/>    # 2<br/>    # Normalize Attributes<br/>    scaler = sklearn.preprocessing.MinMaxScaler()<br/>    for champs_dim in champs_df:<br/>        champs_df[champs_dim] = scaler.fit_transform(np.array(champs_df[champs_dim]).astype('float64'))<br/><br/>    # 3<br/>    # Run PCA<br/>    pca = sklearn.decomposition.PCA(num_components)<br/>    pca.fit(champs_df)<br/>    champ_pca_array = pca.transform(champs_df)<br/><br/>    # 4<br/>    return champ_pca_array<br/><br/>def get_closest_champions(champs_df, champ_pca_array, champ_name, num_champions):<br/>    # Get the champion index<br/>    champ_list = champs_df.index.tolist()<br/>    try:<br/>        champ_idx = champ_list.index(champ_name)<br/>    except:<br/>        return &quot;%s is not in the champion list&quot; % champ_name<br/><br/>    # Get the euclidean distance<br/>    # Use scipy.spatial.distance.euclidean(A, B)<br/>    distance_from_current_champ = {}<br/>    for i in range(0, len(champ_list)):<br/>        distance_from_current_champ[champ_list[i]] = \<br/>            scipy.spatial.distance.euclidean(<br/>                champ_pca_array[champ_idx],<br/>                champ_pca_array[i]<br/>            )<br/><br/>    # Sort dictionary according to the value<br/>    sorted_champs = sorted(distance_from_current_champ.items(), key = operator.itemgetter(1))<br/><br/>    # Return top 10 champs except current one<br/>    if num_champions &gt; len(champ_list) - 1:<br/>        return &quot;num_champions is too large&quot;<br/>    else:<br/>        return sorted_champs[1:1+num_champions]<br/><br/>if __name__ == '__main__':<br/>    main()
</pre></div></div><br/></div></span>
</div></body></html> 